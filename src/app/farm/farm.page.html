<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    
    <div class="landing-header ion-padding">
      <ion-title color="light" class="ion-float-left">Caficauca</ion-title>
      <img src="../../assets/img/efarming_logo.png" alt="efarming" class="logo-header ion-float-rigth">
    </div>
    
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-grid class="bgBoxes">
    <ion-row>
      <ion-col>
        <!--<div class="form-group">
          <label for="farm">Fincas seleccionadas</label>
          <select class="form-control" id="farm" [(ngModel)]="selectedFarm" (ionChange)="onSelectedFarm()">
            <option *ngFor="let farm of farms" [value]="farm.id" selected>
              {{farm.name}}
            </option>
          </select>
        </div>-->
        <ion-select [(ngModel)]="selectedFarm" placeholder="Finca" (ionChange)="onSelectedFarm()">
          <ion-select-option *ngFor="let farm of farms" [value]="farm.id">
            {{farm.name}}
          </ion-select-option>
        </ion-select>
      </ion-col>
    </ion-row>
  </ion-grid>

  <ion-grid class="bgBoxes">
    <ion-row>
      <ion-col size="2">
        <ion-button color="success" (click)="changeTab('basic-data')">Info. <ion-icon name="reader-outline"></ion-icon></ion-button>
      </ion-col>
      <ion-col size="2">
        <ion-button color="success" (click)="changeTab('productivity-data')">Prod. <ion-icon name="sunny-outline"></ion-icon></ion-button>
      </ion-col>
      <ion-col size="2">
        <ion-button color="success" (click)="changeTab('people-data')">Pers. <ion-icon name="person-outline"></ion-icon></ion-button>
      </ion-col>
      <ion-col size="2">
        <ion-button color="success" (click)="changeTab('projects-data')">Proy. <ion-icon name="ribbon-outline"></ion-icon></ion-button>
      </ion-col>
      <ion-col size="2">
        <ion-button color="success" (click)="changeTab('photos-data')">Foto. <ion-icon name="camera-outline"></ion-icon></ion-button>
      </ion-col>
      <ion-col size="2">
        <ion-button color="success"  (click)="changeTab('contacts-data')">Cont. <ion-icon name="calendar-outline"></ion-icon></ion-button>
      </ion-col>
    </ion-row>
  </ion-grid>

  <section class="greyBorder" [ngSwitch]="tab">
    <app-basic-data [farmId]="selectedFarm" *ngSwitchCase ="'basic-data'"></app-basic-data>
    <app-productivity-data [farmId]="selectedFarm" *ngSwitchCase ="'productivity-data'"></app-productivity-data>
    <app-people-data [farmId]="selectedFarm" *ngSwitchCase ="'people-data'"></app-people-data>
    <app-projects-data [farmId]="selectedFarm" *ngSwitchCase ="'projects-data'"></app-projects-data>
    <app-photos-data [farmId]="selectedFarm" *ngSwitchCase ="'photos-data'"></app-photos-data>
    <app-contacts-data [farmId]="selectedFarm" *ngSwitchCase ="'contacts-data'"></app-contacts-data>
  </section>

  <ion-grid class="dashboard ion-margin ion-text-center" *ngIf="tab == 'basic-data'">
    <ion-title>
      Información de Productividad
    </ion-title>
    <ion-row class="green-border ion-margin-horizontal">
      <ion-col>
        <ion-label>
          Edad promedio: {{productivity.averageAge}}
        </ion-label>
        <br>
        <ion-label>
          Area en café: {{productivity.coffeeArea}}
        </ion-label>
      </ion-col>
      <ion-col>
        <ion-label>
          Densidad promedio: {{productivity.averageDensity}}
        </ion-label>
        <br>
        <ion-label>
          Produccion estimada: {{productivity.estimatedProduction}}
        </ion-label>
      </ion-col>
    </ion-row>
    <ion-row class="green-border ion-margin-horizontal">
      <ion-col>
        <ion-title>
          Árboles productivos
        </ion-title>
        <ion-label>
          # árboles: {{productivity.productionPlants}}
        </ion-label>
        <br>
        <ion-label>
          % árboles: {{productivity.productionPercentage}}
        </ion-label>
        <br>
        <ion-label>
          Área: {{productivity.productionArea}}
        </ion-label>
        <br>
        <ion-label>
          % Área: {{productivity.productionAreaPercentage}}
        </ion-label>
      </ion-col>
      <ion-col>
        <ion-title>
          Árboles en levante
        </ion-title>
        <ion-label>
          # árboles: {{productivity.growingPlants}}
        </ion-label>
        <br>
        <ion-label>
          % árboles: {{productivity.growingPercentage}}
        </ion-label>
        <br>
        <ion-label>
          Área: {{productivity.growingArea}}
        </ion-label>
        <br>
        <ion-label>
          % Área: {{productivity.growingAreaPercentage}}
        </ion-label>
      </ion-col>
    </ion-row>
    <ion-title>
      Información de variedades
    </ion-title>
    <ion-row class="green-border ion-margin-horizontal">
      <ion-col>
        <ion-label>
          % Colombia: {{productivity.percentageColombia}}
        </ion-label>
        <br>
        <ion-label>
          % Castillo: {{productivity.percentageCastillo}}
        </ion-label>
      </ion-col>
      <ion-col>
        <ion-label>
          % Caturra: {{productivity.percentageCaturra}}
        </ion-label>
        <br>
        <ion-label>
          % Otro: {{productivity.percentageOtra}}
        </ion-label>
      </ion-col>
    </ion-row>
  </ion-grid>
  <br>
  <ion-grid class="dashboard ion-margin ion-text-center" *ngIf="tab == 'basic-data'">
    <ion-title>
      Ventas
    </ion-title>
    <ion-row class="green-border ion-margin-horizontal">
      <ion-col>
        <ion-label>
          Año: {{groupedInvoices.year}} &nbsp;
        </ion-label>
      </ion-col>
      <ion-col>
        <ion-label>
          Total ventas(kg): {{groupedInvoices.totalKg}} &nbsp;
        </ion-label>
      </ion-col>
      <ion-col>
        <ion-label>
          Total ventas($): {{groupedInvoices.totalValue}} &nbsp;
        </ion-label>
      </ion-col>
      <ion-col>
        <ion-label>
          Precio promedio: {{groupedInvoices.averageValue}} &nbsp;
        </ion-label>
      </ion-col>
    </ion-row>
  </ion-grid>
  <br>
  <ion-grid class="dashboard ion-margin ion-text-center" *ngIf="tab == 'basic-data'">
    <ion-title>
      Fertilizantes
    </ion-title>
    <ion-row class="green-border ion-margin-horizontal">
      <ion-col>
        <ion-label>
          Año: {{groupedFertilizers.year}} &nbsp;
        </ion-label>
      </ion-col>
      <ion-col>
        <ion-label>
          Bultos: {{groupedFertilizers.quantity}} &nbsp;
        </ion-label>
      </ion-col>
      <ion-col>
        <ion-label>
          Valor total: {{groupedFertilizers.totalValue}} &nbsp;
        </ion-label>
      </ion-col>
      <ion-col>
        <ion-label>
          Precio promedio: {{groupedFertilizers.averagePrice}} &nbsp;
        </ion-label>
      </ion-col>
    </ion-row>
  </ion-grid>

</ion-content>
